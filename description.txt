````markdown
# ğŸ“š E-Library Management System â€“ Full Project Documentation

---

## 1. Project Overview

### 1.1 Problem Statement

Traditional library management has several limitations:

- Students must physically visit the library.
- Book search is manual (through racks/shelves).
- Issuing and returning books is managed through paper-based records.
- Tracking:
  - Which student borrowed which book
  - Due dates
  - Lost or unreturned books  
  becomes difficult for librarians.

**Solution: E-Library**

The E-Library system digitizes the entire library flow. It allows:

- Online browsing of books.
- Digital borrowing of books.
- Downloading book PDFs.
- Viewing borrowed books per student.
- Admin management of the library inventory.

### 1.2 Real-Life Usefulness

This project behaves like a **digital library portal**, similar in spirit to streaming platforms:

- **Streaming platform analogy:**
  - Browse content â†’ select â†’ consume â†’ view history / list
- **E-Library:**
  - Browse books â†’ borrow â†’ download PDF â†’ view borrowed list

Real-life usage includes:

- **Schools & Colleges**
  - Digital library access for students
  - Easy teacher/librarian tracking
- **Public Libraries**
  - Online reservation and borrowing
- **Publishers / Institutes**
  - Controlled access to digital books

### 1.3 Users & Roles

#### 1.3.1 Students (Regular Users)

- Register & login.
- Browse and search books.
- Borrow available books.
- Download book PDFs.
- View and return their borrowed books.

#### 1.3.2 Teachers / Librarians (Admin Users)

- Login with admin credentials.
- Add new books (with cover and PDF).
- Update or delete existing books.
- Monitor borrowing records.

#### 1.3.3 System Owner

- Deploy and maintain the full stack.
- Configure environment, database, and server.
- Manage GitHub repository and versions.

---

## 2. Technology Stack

### 2.1 Frontend

- **Technology:** React + Vite
- **Purpose:** Build a fast, interactive, single-page application (SPA).

#### 2.1.1 React

React is a JavaScript library for building user interfaces.

Key benefits:

- Updates only parts of the UI that change.
- Provides a component-based structure.
- Simplifies complex UI logic.

**Example Component:**

```jsx
import { useState } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);  // State to track clicks

  return (
    <div>
      <p>Clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click Me</button>
    </div>
  );
}
````

#### 2.1.2 Vite

Vite is a development tool (bundler + dev server) for modern frontend apps.

Advantages:

* Very fast server startup.
* Hot Module Replacement (HMR) for instant updates.
* Optimized build process.

---

### 2.2 Backend

* **Technology:** Node.js + Express
* **Purpose:** Handle API requests, business logic, authentication, and communication with the database.

#### 2.2.1 Node.js

* Runs JavaScript on the server.
* Handles network operations efficiently.
* Forms the base runtime for the backend.

#### 2.2.2 Express

Express is a minimal web framework for Node.js.

It provides:

* Route handling (e.g. `/api/books`, `/api/auth/login`).
* Middleware support (for authentication, parsing JSON, etc.).
* Simpler API building experience.

**Example Express Server:**

```js
import express from "express";

const app = express();

app.get("/api/hello", (req, res) => {
  res.json({ message: "Hello World" });
});

app.listen(4000, () => {
  console.log("Server running on port 4000");
});
```

---

### 2.3 Database

* **Technology:** MongoDB (NoSQL)
* **Purpose:** Store users, books, and borrow records.

#### 2.3.1 MongoDB Basics

* Data is stored in **collections**.
* Each collection contains **documents** (similar to JSON objects).

Example: Users Collection

```json
[
  {
    "_id": "123abc",
    "name": "Ali",
    "email": "ali@gmail.com",
    "password": "hashedPassword",
    "role": "student"
  },
  {
    "_id": "456def",
    "name": "Sara",
    "email": "sara@gmail.com",
    "password": "hashedPassword",
    "role": "admin"
  }
]
```

MongoDB is flexible: fields can be added without altering an entire table schema.

---

### 2.4 Git & GitHub

* **Git:** Version control system to track changes in code.
* **GitHub:** Online platform to host repositories and collaborate.

Benefits:

* Backup of the project.
* Collaboration with other developers.
* Acts as a professional portfolio.

**Common Git Commands:**

```bash
git add .                         # Stage changes
git commit -m "Added login"       # Save changes with a message
git push origin main              # Push to remote repository (GitHub)
```

---

## 3. Project Folder Structure

```bash
E-Lib/
â”œâ”€â”€ Backend/                     # Server-side (Node.js + Express)
â”‚   â”œâ”€â”€ server.js               # Main server entry point
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js               # MongoDB connection setup
â”‚   â”œâ”€â”€ models/                 # Mongoose schemas
â”‚   â”‚   â”œâ”€â”€ User.js             # User model
â”‚   â”‚   â”œâ”€â”€ Book.js             # Book model
â”‚   â”‚   â””â”€â”€ Borrow.js           # Borrow/issue model
â”‚   â”œâ”€â”€ controllers/            # Business logic
â”‚   â”‚   â”œâ”€â”€ authController.js   # Login & registration logic
â”‚   â”‚   â”œâ”€â”€ bookController.js   # Book CRUD logic
â”‚   â”‚   â””â”€â”€ borrowController.js # Borrow & return logic
â”‚   â”œâ”€â”€ routes/                 # API endpoints
â”‚   â”‚   â”œâ”€â”€ authRoutes.js       # /api/auth/*
â”‚   â”‚   â”œâ”€â”€ bookRoutes.js       # /api/books/*
â”‚   â”‚   â””â”€â”€ borrowRoutes.js     # /api/borrow/*
â”‚   â””â”€â”€ uploads/                # File storage
â”‚       â”œâ”€â”€ images/             # Book cover images
â”‚       â””â”€â”€ pdfs/               # Book PDF files
â”‚
â””â”€â”€ Frontend/                   # Client-side (React + Vite)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ main.jsx            # React entry point
    â”‚   â”œâ”€â”€ App.jsx             # Root component & routing
    â”‚   â”œâ”€â”€ pages/              # Page components
    â”‚   â”‚   â”œâ”€â”€ Home.jsx
    â”‚   â”‚   â”œâ”€â”€ Login.jsx
    â”‚   â”‚   â”œâ”€â”€ Register.jsx
    â”‚   â”‚   â”œâ”€â”€ Books.jsx
    â”‚   â”‚   â”œâ”€â”€ BorrowedBooks.jsx
    â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
    â”‚   â”‚   â””â”€â”€ AdminPanel.jsx
    â”‚   â”œâ”€â”€ components/         # Reusable UI components
    â”‚   â”‚   â”œâ”€â”€ Navbar.jsx
    â”‚   â”‚   â””â”€â”€ ProtectedRoute.jsx
    â”‚   â”œâ”€â”€ context/
    â”‚   â”‚   â””â”€â”€ AuthContext.jsx # Authentication context
    â”‚   â”œâ”€â”€ services/
    â”‚   â”‚   â””â”€â”€ api.js          # Axios-based API helper
    â”‚   â””â”€â”€ styles/
    â”‚       â”œâ”€â”€ globals.css
    â”‚       â””â”€â”€ animations.css
    â””â”€â”€ vite.config.js          # Vite configuration
```

### 3.1 Design Principles

* **Separation of Concerns**

  * Models: How data is stored.
  * Controllers: What to do with data.
  * Routes: Which URL triggers which controller.
* **Scalability**

  * New page â†’ add a file in `pages/`.
  * New API â†’ add route + controller.
  * New data type â†’ add a new model.

---

## 4. Frontend Flow (React)

### 4.1 Application Startup

1. Browser loads `http://localhost:5173`.
2. `index.html` loads the bundled JavaScript.
3. `main.jsx` mounts `<App />` into the DOM.
4. `App.jsx` sets up routes and layouts.
5. Navbar + the appropriate page (e.g., Home, Login, Books) are rendered.

### 4.2 Key React Concepts

#### 4.2.1 JSX

JSX combines HTML-like syntax with JavaScript logic.

```jsx
export default function Welcome() {
  return <h1>Hello, World!</h1>;
}
```

#### 4.2.2 Components

Components are reusable UI blocks.

```jsx
function BookCard({ title, author }) {
  return (
    <div>
      <h3>{title}</h3>
      <p>By {author}</p>
    </div>
  );
}

// Usage:
<BookCard title="Harry Potter" author="J.K. Rowling" />
<BookCard title="1984" author="George Orwell" />
```

#### 4.2.3 State (`useState`)

Used to store dynamic values.

```jsx
const [email, setEmail] = useState("");

<input
  type="email"
  value={email}
  onChange={(e) => setEmail(e.target.value)}
/>;
```

#### 4.2.4 Events

Handling user actions like button clicks and form submissions.

```jsx
function LoginForm() {
  const handleSubmit = (e) => {
    e.preventDefault();
    // Send login data to backend
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="email" placeholder="Email" />
      <button type="submit">Login</button>
    </form>
  );
}
```

#### 4.2.5 `useEffect` (Side Effects)

Used for API calls on component load.

```jsx
import { useEffect, useState } from "react";

export default function Books() {
  const [books, setBooks] = useState([]);

  useEffect(() => {
    fetchBooksFromBackend();
  }, []); // Run only once on mount

  return <div>{/* Render books here */}</div>;
}
```

### 4.3 Example: Books Page

```jsx
export default function Books() {
  const [books, setBooks] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchBooks();
  }, []);

  const fetchBooks = async () => {
    const response = await api.get("/books");
    setBooks(response.data);
    setLoading(false);
  };

  if (loading) return <p>Loading...</p>;

  return (
    <div>
      {books.map((book) => (
        <div key={book._id}>
          <h3>{book.title}</h3>
          <button onClick={() => borrowBook(book._id)}>Borrow</button>
        </div>
      ))}
    </div>
  );
}
```

**Flow:**

* Component mounts â†’ `loading = true`.
* `useEffect` calls backend `/api/books`.
* Response updates `books` and sets `loading = false`.
* Books are rendered.
* â€œBorrowâ€ triggers an API call to borrow the book.

---

## 5. Backend Flow (Express)

### 5.1 What Is a Server?

A server:

* Receives HTTP requests from the client.
* Processes logic (e.g., DB queries, validations).
* Returns an HTTP response containing data or status.

### 5.2 HTTP Methods

* `GET` â†’ Read data
* `POST` â†’ Create data
* `PUT` â†’ Update data
* `DELETE` â†’ Delete data

### 5.3 Requestâ€“Response Example: Login

1. Frontend sends:

   ```http
   POST /api/auth/login
   Body: { "email": "user@example.com", "password": "123" }
   ```

2. Backend receives this in `authController.login()`.

3. Backend checks MongoDB for a matching user.

4. If correct:

   ```json
   {
     "message": "Login successful",
     "user": {
       "_id": "123",
       "name": "User Name",
       "email": "user@example.com"
     }
   }
   ```

5. Frontend updates UI and stores the user.

### 5.4 Main API Endpoints

#### Authentication

* `POST /api/auth/register`
  Register a new user.
* `POST /api/auth/login`
  Login with email & password.

#### Books

* `GET /api/books`
  Fetch all books.
* `POST /api/books`
  Add a new book (admin only).
* `PUT /api/books/:id`
  Update book details (admin only).
* `DELETE /api/books/:id`
  Remove a book (admin only).

#### Borrowing

* `GET /api/borrow/:userId`
  Get all books borrowed by a specific user.
* `POST /api/borrow`
  Borrow a book.
* `POST /api/borrow/return`
  Return a book.

---

## 6. Database Design (MongoDB)

### 6.1 Collections

* `users` collection
* `books` collection
* `borrows` collection

### 6.2 CRUD Operations (Using Mongoose)

**Find:**

```js
const user = await User.findOne({ email: "user@example.com" });
```

**Create:**

```js
const newUser = await User.create({
  name: "Ali",
  email: "ali@gmail.com",
  password: "123",
  role: "student",
});
```

**Update:**

```js
await Book.findByIdAndUpdate(bookId, { status: "Issued" });
```

**Delete:**

```js
await Book.findByIdAndDelete(bookId);
```

---

## 7. Authentication & Authorization

### 7.1 Signup Flow

1. User fills the signup form (name, email, password).
2. Frontend sends `POST /api/auth/register`.
3. Backend:

   * Validates data.
   * Creates a new user document in MongoDB.
4. Returns success message and user info.
5. Frontend:

   * Stores user in state and `localStorage`.
   * Redirects to home/dashboard.

### 7.2 Login Flow

1. User enters email and password.
2. Frontend sends `POST /api/auth/login`.
3. Backend verifies credentials.
4. On success:

   * Returns user data.
   * Frontend saves user to `AuthContext` and `localStorage`.
   * Navbar updates with user-specific links.

### 7.3 Role-Based Access

* Admin credentials are recognized to allow:

  * Adding, updating, and deleting books.
* Students:

  * Browse, borrow, and return books.
  * Download PDFs.

### 7.4 Local Storage

```js
// Save user on login
localStorage.setItem("user", JSON.stringify(user));

// Read user on app mount
const stored = localStorage.getItem("user");
if (stored) setUser(JSON.parse(stored));

// Logout
localStorage.removeItem("user");
```

### 7.5 Protected Routes (Frontend)

```jsx
import { Navigate } from "react-router-dom";
import { useAuth } from "../context/AuthContext";

export default function ProtectedRoute({ children }) {
  const { user, loading } = useAuth();

  if (loading) return <p>Loading...</p>;
  if (!user) return <Navigate to="/login" />;

  return children;
}
```

Usage:

```jsx
<Route
  path="/dashboard"
  element={
    <ProtectedRoute>
      <Dashboard />
    </ProtectedRoute>
  }
/>
```

---

## 8. Git & GitHub Workflow

### 8.1 Key Concepts

* **Commit:** Save a snapshot of current changes.
* **Branch:** Independent line of development.
* **Push:** Upload local commits to GitHub.

### 8.2 Example Feature Workflow

```bash
# Create branch for a new feature
git checkout -b feature/books-page

# After coding
git add .
git commit -m "Created books page with search"

# Push branch to GitHub
git push origin feature/books-page

# On GitHub:
# Create Pull Request â†’ Review â†’ Merge into main
```

---

## 9. End-to-End Flow: Borrowing a Book

### Step 1: User Visits Website

* Opens `http://localhost:5173`.
* `Home` page and `Navbar` load.

### Step 2: User Logs In

* Navigates to `/login`.
* Enters email & password.
* Frontend calls `POST /api/auth/login`.
* Backend verifies user and responds with user data.
* Frontend stores user and updates UI (e.g., shows Dashboard/My Books).

### Step 3: User Browses Books

* Navigates to `/books`.
* `Books.jsx` calls `GET /api/books`.
* Backend responds with list of books.
* Each book card shows:

  * Title
  * Author
  * Category
  * Status (Available / Issued)
  * Download PDF / Borrow buttons

### Step 4: User Borrows a Book

* Clicks on "Borrow".
* Frontend sends `POST /api/borrow` with `{ userId, bookId }`.
* Backend:

  * Creates a borrow record in `borrows`.
  * Updates book status to `Issued`.
* Frontend refreshes list or updates UI to reflect new status.

### Step 5: User Views Borrowed Books

* Navigates to `/borrowed` (ProtectedRoute).
* `BorrowedBooks.jsx` calls `GET /api/borrow/:userId`.
* Backend returns books the user has borrowed.
* UI displays:

  * Book details
  * Borrow date
  * Options to Download or Return.

### Step 6: User Returns a Book

* Clicks "Return" on a borrowed book.
* Frontend sends `POST /api/borrow/return` with `{ userId, bookId }`.
* Backend:

  * Deletes the borrow record.
  * Updates book status back to `Available`.
* Frontend updates the borrowed list and the books list.

---

## 10. Admin Flow: Adding a New Book

1. Admin logs in with admin credentials.
2. Navigates to `/admin`.
3. Fills the add-book form:

   * Title
   * Author
   * Category
   * Cover image file
   * PDF file
4. Frontend creates a `FormData` object and sends `POST /api/books`.
5. Backend:

   * Validates admin.
   * Saves files into `/uploads/images` and `/uploads/pdfs`.
   * Creates a new book document in MongoDB with file paths.
6. Frontend:

   * Shows success message.
   * Refreshes book list (students can now see the new book).

---

## 11. Learning Outcomes

### 11.1 Frontend Skills

* **React Fundamentals**

  * Components and JSX
  * `useState` and `useEffect`
  * Event handling
* **Routing**

  * Navigation with React Router
  * Protected routes
* **State Management**

  * Managing global state using Context API (`AuthContext`)
* **Browser APIs**

  * Using `localStorage` for auth persistence

### 11.2 Backend Skills

* **Node.js & Express**

  * Creating RESTful APIs
  * Using middleware
  * Structuring controllers and routes
* **Database Integration**

  * Using MongoDB with Mongoose
  * Designing schemas (User, Book, Borrow)
  * Performing CRUD operations

### 11.3 Full-Stack Skills

* **Authentication**

  * Signup & login flow
  * Basic role-based access control (admin vs student)
* **File Handling**

  * Uploading & serving images and PDFs
* **Project Structure & Organization**

  * Clean separation of frontend & backend
  * Logical grouping of models, controllers, and routes
* **Version Control & Collaboration**

  * Using Git for commits and branching
  * Using GitHub for hosting and showcasing the project

---

## 12. Conclusion

The E-Library Management System is a complete full-stack web application that demonstrates:

* Practical use of React in the frontend.
* Express and Node.js in the backend.
* MongoDB as a NoSQL database.
* Authentication, authorization, and role-based access.
* Real-world workflows like borrowing and returning books.
* Proper project structuring and version control with Git & GitHub.

This project can be showcased as:

* A **college-level full-stack project**.
* A **portfolio project** on GitHub.
* A strong demonstration of understanding **web development with React, Node.js, and MongoDB**.


